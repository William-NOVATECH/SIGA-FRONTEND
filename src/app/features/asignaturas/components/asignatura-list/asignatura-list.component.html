<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="flex justify-between items-center">
      <div>
        <h1 class="header-title">GestiÃ³n de Asignaturas</h1>
        <p class="header-subtitle">Administra las asignaturas acadÃ©micas</p>
      </div>
      <button 
        (click)="createAsignatura()"
        class="btn-primary"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
        </svg>
        Nueva Asignatura
      </button>
    </div>
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
  </div>

  <!-- Tabla de asignaturas -->
  <div *ngIf="!loading" class="table-container">
    <!-- Header de Tabla -->
    <div class="table-header">
      <div class="flex justify-between items-center">
        <h3 class="table-title">Lista de Asignaturas</h3>
      </div>
    </div>

    <!-- Tabla -->
    <div class="overflow-x-auto">
      <table class="table">
        <thead>
          <tr>
            <th>CÃ³digo</th>
            <th>Nombre</th>
            <th>Carrera</th>
            <th>CrÃ©ditos</th>
            <th>Horas</th>
            <th>Semestre</th>
            <th>Tipo</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- Filas de datos -->
          <tr *ngFor="let asignatura of asignaturas" class="table-row">
            <!-- CÃ³digo -->
            <td class="code-cell">{{ asignatura.codigo_asignatura }}</td>
            
            <!-- Nombre -->
            <td>
              <div class="name-cell">{{ asignatura.nombre_asignatura }}</div>
            </td>
            
            <!-- Carrera -->
            <td>
              <span class="career-badge">{{ getNombreCarrera(asignatura) }}</span>
            </td>
            
            <!-- CrÃ©ditos -->
            <td class="number-cell">{{ asignatura.creditos }}</td>
            
            <!-- Horas Semanales -->
            <td class="number-cell">{{ asignatura.horas_semanales }}</td>
            
            <!-- Semestre -->
            <td class="number-cell">{{ asignatura.semestre || '-' }}</td>
            
            <!-- Tipo -->
            <td>
              <span 
                [class]="'type-badge type-' + asignatura.tipo"
              >
                <span class="status-dot"></span>
                {{ asignatura.tipo }}
              </span>
            </td>
            
            <!-- Estado -->
            <td>
              <span 
                [class]="asignatura.estado === 'activa' ? 'status-badge status-active' : 'status-badge status-inactive'"
              >
                <span class="status-dot"></span>
                {{ asignatura.estado }}
              </span>
            </td>
            
            <!-- Acciones -->
            <td>
              <div class="action-buttons">
                <button 
                  (click)="viewAsignatura(asignatura.id_asignatura)"
                  class="action-btn btn-view"
                  title="Ver detalles"
                >
                  ğŸ‘ï¸
                </button>
                <button 
                  (click)="editAsignatura(asignatura.id_asignatura)"
                  class="action-btn btn-edit"
                  title="Editar"
                >
                  âœï¸
                </button>
                <button 
                  (click)="deleteAsignatura(asignatura.id_asignatura)"
                  class="action-btn btn-delete"
                  title="Eliminar"
                >
                  ğŸ—‘ï¸
                </button>
              </div>
            </td>
          </tr>
          
          <!-- Estado vacÃ­o -->
          <tr *ngIf="asignaturas.length === 0">
            <td colspan="9">
              <div class="empty-state">
                <div class="empty-icon">ğŸ“š</div>
                <h3 class="empty-title">No se encontraron asignaturas</h3>
                <p class="empty-description">Comienza creando la primera asignatura acadÃ©mica</p>
                <button 
                  (click)="createAsignatura()"
                  class="btn-primary"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                  </svg>
                  Crear primera asignatura
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Contador -->
  <div *ngIf="!loading && asignaturas.length > 0" class="counter">
    Total: {{ asignaturas.length }} asignatura(s)
  </div>
</div>