<div class="docente-form">
  <div class="form-header">
    <h2>{{ docenteId ? 'Editar Docente' : 'Nuevo Docente' }}</h2>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    Cargando datos del docente...
  </div>

  <!-- Error -->
  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <!-- Formulario -->
  <form *ngIf="!loading" [formGroup]="docenteForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <!-- Información Básica -->
      <div class="form-section">
        <h3>Información Básica</h3>
        
        <div class="form-group">
          <label for="codigo_docente">Código Docente *</label>
          <input type="text" id="codigo_docente" formControlName="codigo_docente"
                 [class.error]="f['codigo_docente'].invalid && f['codigo_docente'].touched">
          <div *ngIf="f['codigo_docente'].invalid && f['codigo_docente'].touched" class="error-text">
            Código docente es requerido
          </div>
        </div>

        <div class="form-group">
          <label for="nombres">Nombres *</label>
          <input type="text" id="nombres" formControlName="nombres"
                 [class.error]="f['nombres'].invalid && f['nombres'].touched">
          <div *ngIf="f['nombres'].invalid && f['nombres'].touched" class="error-text">
            Nombres son requeridos
          </div>
        </div>

        <div class="form-group">
          <label for="apellidos">Apellidos *</label>
          <input type="text" id="apellidos" formControlName="apellidos"
                 [class.error]="f['apellidos'].invalid && f['apellidos'].touched">
          <div *ngIf="f['apellidos'].invalid && f['apellidos'].touched" class="error-text">
            Apellidos son requeridos
          </div>
        </div>

        <div class="form-group">
          <label for="identificacion">Identificación *</label>
          <input type="text" id="identificacion" formControlName="identificacion"
                 [class.error]="f['identificacion'].invalid && f['identificacion'].touched">
          <div *ngIf="f['identificacion'].invalid && f['identificacion'].touched" class="error-text">
            Identificación es requerida
          </div>
        </div>
      </div>

      <!-- Información Institucional -->
      <div class="form-section">
        <h3>Información Institucional</h3>

        <div class="form-group">
  <label for="id_departamento">Departamento *</label>
  <select id="id_departamento" formControlName="id_departamento"
          [class.error]="f['id_departamento'].invalid && f['id_departamento'].touched">
    <option value="">Seleccione un departamento</option>
    <option *ngFor="let depto of departamentos" [value]="depto.id_departamento">
      {{ depto.nombre_departamento }} <!-- Cambiado de 'nombre' a 'nombre_departamento' -->
    </option>
  </select>
  <div *ngIf="f['id_departamento'].invalid && f['id_departamento'].touched" class="error-text">
    Departamento es requerido
  </div>
</div>

        <div class="form-group">
          <label for="id_cargo">Cargo *</label>
          <select id="id_cargo" formControlName="id_cargo"
          [class.error]="f['id_cargo'].invalid && f['id_cargo'].touched">
            <option value="">Seleccione un cargo</option>
            <option *ngFor="let cargo of cargos" [value]="cargo.id_cargo">
      {{ cargo.nombre_cargo }}
            </option>
           </select>
         <div *ngIf="f['id_cargo'].invalid && f['id_cargo'].touched" class="error-text">
    Cargo es requerido
           </div>
        </div>

        <div class="form-group">
          <label for="estado">Estado</label>
          <select id="estado" formControlName="estado">
            <option value="activo">Activo</option>
            <option value="inactivo">Inactivo</option>
          </select>
        </div>

        <div class="form-group">
          <label for="fecha_ingreso">Fecha de Ingreso</label>
          <input type="date" id="fecha_ingreso" formControlName="fecha_ingreso">
        </div>
      </div>

      <!-- Información Personal -->
      <div class="form-section">
        <h3>Información Personal</h3>

        <div class="form-group">
          <label for="fecha_nacimiento">Fecha de Nacimiento</label>
          <input type="date" id="fecha_nacimiento" formControlName="fecha_nacimiento">
        </div>

        <div class="form-group">
          <label for="genero">Género</label>
          <select id="genero" formControlName="genero">
            <option value="">Seleccione...</option>
            <option value="M">Masculino</option>
            <option value="F">Femenino</option>
            <option value="O">Otro</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="saving">
        {{ saving ? 'Guardando...' : (docenteId ? 'Actualizar' : 'Crear') }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()" [disabled]="saving">
        Cancelar
      </button>
    </div>
  </form>
</div>
